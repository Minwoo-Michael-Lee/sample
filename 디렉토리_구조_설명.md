# `WAS/tomcat-app` 디렉토리 구조 설명

이 문서는 `WAS/tomcat-app` 폴더(= Git 저장소 루트) 기준으로 **학부모서비스(Parents)**와 **대입지원(Apply)**가 어떻게 구성되어 있는지, 그리고 **정적 리소스/Java API/배포 산출물(WAR)**이 어디에 위치하는지 설명합니다.

---

## 전체 구조 한눈에 보기

대략적인 폴더 트리는 아래와 같습니다.

```text
WAS/tomcat-app/
  .git/                      # Git 저장소(이 폴더 기준으로 커밋/푸시됨)
  .gitignore                 # Git 제외 규칙
  README.md                  # 프로젝트 개요(짧게)
  배포_가이드_Tomcat.md       # Tomcat 배포/운영 가이드(인턴용)
  pom.xml                    # 학부모서비스(neis-parents-service) WAR 빌드 설정

  src/
    main/
      java/                  # 학부모서비스 Java 소스(서블릿/필터/DB 유틸)
        com/neis/...
      webapp/                # 학부모서비스 정적 리소스 루트(HTML/CSS/JS/이미지)
        index.html
        login.html
        ...
        css/
        js/
        images/
        error/
        WEB-INF/
          web.xml            # 서블릿/필터/웰컴파일/에러페이지 설정

  apply-app/                 # 대입지원 전용 “별도 사이트(WAR)” 프로젝트(도메인 분리)
    pom.xml                  # apply-app WAR 빌드 설정
    src/
      main/
        java/                # 대입지원 Java 소스(서블릿/필터/DB 유틸)
          com/neis/...
        webapp/              # 대입지원 정적 리소스 루트
          index.html
          college-apply.html
          college-receive-status.html
          notice.html
          login.html
          css/
          js/
          error/
          WEB-INF/
            web.xml
```

---

## 1) “학부모서비스(Parents)”는 어디에 있나요?

- **빌드 단위(WAR)**: `neis-parents-service.war`
- **Maven 설정**: `WAS/tomcat-app/pom.xml`
- **정적 페이지 루트**: `WAS/tomcat-app/src/main/webapp/`
  - 예: `index.html`, `login.html`, `register.html`, `student-attendance.html` 등
  - 예: CSS/JS/이미지: `css/`, `js/`, `images/`
- **Java API(서블릿)**: `WAS/tomcat-app/src/main/java/com/neis/servlet/`
  - 예: `AttendanceServlet`, `VolunteerServlet`, `GradeTrendServlet`, `StandardScoreServlet`
- **서버 설정(web.xml)**: `WAS/tomcat-app/src/main/webapp/WEB-INF/web.xml`
  - `/api/...` URL을 어떤 서블릿이 처리하는지, UTF-8/CORS 필터, 에러 페이지 등을 정의

---

## 2) “대입지원(Apply)”는 어디에 있나요?

대입지원은 **부모서비스와 도메인이 다른 별도 사이트**이므로, 부모서비스와 분리된 WAR로 운영합니다.

- **빌드 단위(WAR)**: `apply-app.war`
- **프로젝트 루트**: `WAS/tomcat-app/apply-app/`
- **Maven 설정**: `WAS/tomcat-app/apply-app/pom.xml`
- **정적 페이지 루트**: `WAS/tomcat-app/apply-app/src/main/webapp/`
  - 예: `index.html`, `college-apply.html`, `college-receive-status.html`
- **Java API(서블릿)**: `WAS/tomcat-app/apply-app/src/main/java/com/neis/servlet/`
  - 예: `CollegeApplyServlet`, `CollegeReceiveStatusServlet`
- **서버 설정(web.xml)**: `WAS/tomcat-app/apply-app/src/main/webapp/WEB-INF/web.xml`

---

## 3) 정적 파일 vs Java 코드: 어디에 넣어야 하나요?

- **HTML/CSS/JS/이미지 같은 화면 리소스**를 추가/수정할 때:
  - Parents: `src/main/webapp/**`
  - Apply: `apply-app/src/main/webapp/**`

- **DB 조회/처리 같은 API(Java 서블릿)**를 추가/수정할 때:
  - Parents: `src/main/java/com/neis/servlet/**`
  - Apply: `apply-app/src/main/java/com/neis/servlet/**`

- **API URL 매핑을 추가/변경**할 때(필수):
  - Parents: `src/main/webapp/WEB-INF/web.xml`
  - Apply: `apply-app/src/main/webapp/WEB-INF/web.xml`

---

## 4) (중요) Git 푸시는 어디 폴더 기준인가요?

`WAS/tomcat-app/.git/`가 존재하므로, **이 폴더가 Git 저장소 루트**입니다.

- `WAS/tomcat-app` 밖(예: `C:\Users\...\neis\start-server.bat`)에 있는 파일은 **이 저장소에 포함되지 않아서 푸시되지 않습니다.**
- 공용 스크립트/문서도 버전관리하려면, `WAS/tomcat-app` 하위(예: `tools/`)로 옮겨야 합니다.

---

## 5) 로컬/운영 배포 관점에서 URL은 어떻게 나뉘나요?

Tomcat 배포 시 WAR 이름이 컨텍스트가 됩니다.

- Parents WAR: `neis-parents-service.war` → 컨텍스트 `/neis-parents-service/`
- Apply WAR: `apply-app.war` → 컨텍스트 `/apply-app/`

운영에서는 Nginx에서 도메인별로 해당 컨텍스트로 프록시하도록 구성합니다.
자세한 내용은 `배포_가이드_Tomcat.md`를 참고하세요.


